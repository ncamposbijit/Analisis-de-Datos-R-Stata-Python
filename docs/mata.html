<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>7 Mata | Análisis de Datos con Stata, R y Python</title>
<meta name="author" content="Nicolás Campos Bijit">
<meta name="generator" content="bookdown 0.32 with bs4_book()">
<meta property="og:title" content="7 Mata | Análisis de Datos con Stata, R y Python">
<meta property="og:type" content="book">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="7 Mata | Análisis de Datos con Stata, R y Python">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.0/transition.js"></script><script src="libs/bs3compat-0.4.0/tabs.js"></script><script src="libs/bs3compat-0.4.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style4.css">
<meta name="description" content="7.1 ¿Qué es Mata? Esta introducción esta basada en la guía de Asjad Naqvi. Mata es un lenguaje de programación matricial. Es más rápido que Stata, pero necesita más precisión (ej. dimensiones de...">
<meta property="og:description" content="7.1 ¿Qué es Mata? Esta introducción esta basada en la guía de Asjad Naqvi. Mata es un lenguaje de programación matricial. Es más rápido que Stata, pero necesita más precisión (ej. dimensiones de...">
<meta name="twitter:description" content="7.1 ¿Qué es Mata? Esta introducción esta basada en la guía de Asjad Naqvi. Mata es un lenguaje de programación matricial. Es más rápido que Stata, pero necesita más precisión (ej. dimensiones de...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Análisis de Datos con Stata, R y Python</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Introducción</a></li>
<li><a class="" href="buenas-pr%C3%A1cticas-de-programaci%C3%B3n-y-visualizaci%C3%B3n.html"><span class="header-section-number">2</span> Buenas prácticas de programación y visualización</a></li>
<li><a class="" href="programar-do---files.html"><span class="header-section-number">3</span> Programar do - files</a></li>
<li><a class="" href="programar-ado---files.html"><span class="header-section-number">4</span> Programar ado - files</a></li>
<li><a class="" href="exportar-informaci%C3%B3n.html"><span class="header-section-number">5</span> Exportar Información</a></li>
<li><a class="" href="manejo-de-grandes-bases-de-datos-en-stata.html"><span class="header-section-number">6</span> Manejo de grandes bases de datos en Stata</a></li>
<li><a class="active" href="mata.html"><span class="header-section-number">7</span> Mata</a></li>
<li><a class="" href="an%C3%A1lisis-de-datos-con-python.html"><span class="header-section-number">8</span> Análisis de Datos con Python</a></li>
<li><a class="" href="an%C3%A1lisis-de-datos-con-r.html"><span class="header-section-number">9</span> Análisis de datos con R</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="mata" class="section level1" number="7">
<h1>
<span class="header-section-number">7</span> Mata<a class="anchor" aria-label="anchor" href="#mata"><i class="fas fa-link"></i></a>
</h1>
<div id="qué-es-mata" class="section level2" number="7.1">
<h2>
<span class="header-section-number">7.1</span> ¿Qué es Mata?<a class="anchor" aria-label="anchor" href="#qu%C3%A9-es-mata"><i class="fas fa-link"></i></a>
</h2>
<p>Esta introducción esta basada en la guía de <a href="https://medium.com/the-stata-guide/mata-statas-end-game-5983c0ee11bd">Asjad Naqvi</a>.</p>
<ul>
<li>Mata es un lenguaje de programación matricial.</li>
<li>Es más rápido que Stata, pero necesita más precisión (ej. dimensiones de las matrices).</li>
<li>Muchos de los operadores de Mata son similares a R o Matlab. Adicionalmente, incluye sus propios optimizadores y funciones útiles.</li>
<li>Esta sección será una pequeña introducción al lenguaje. Tiene como objetivo mostrarles el abanico de herramientas que Mata posee con el fin de que puedan utilizarlo para hacer sus propios programas.</li>
</ul>
<p>La sintaxis básica de Mata</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb181-1"><a href="mata.html#cb181-1" aria-hidden="true" tabindex="-1"></a>* Opción 1 </span>
<span id="cb181-2"><a href="mata.html#cb181-2" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> </span>
<span id="cb181-3"><a href="mata.html#cb181-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-4"><a href="mata.html#cb181-4" aria-hidden="true" tabindex="-1"></a>&lt; comando <span class="kw">de</span> <span class="kw">mata</span> 1 &gt; </span>
<span id="cb181-5"><a href="mata.html#cb181-5" aria-hidden="true" tabindex="-1"></a>&lt; comando <span class="kw">de</span> <span class="kw">mata</span> 2 &gt;</span>
<span id="cb181-6"><a href="mata.html#cb181-6" aria-hidden="true" tabindex="-1"></a>&lt; <span class="fu">y</span> así .... &gt; </span>
<span id="cb181-7"><a href="mata.html#cb181-7" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span> </span>
<span id="cb181-8"><a href="mata.html#cb181-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-9"><a href="mata.html#cb181-9" aria-hidden="true" tabindex="-1"></a>* Opción 2 </span>
<span id="cb181-10"><a href="mata.html#cb181-10" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> &lt;un comando <span class="kw">de</span> <span class="kw">mata</span>&gt;</span>
<span id="cb181-11"><a href="mata.html#cb181-11" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb181-12"><a href="mata.html#cb181-12" aria-hidden="true" tabindex="-1"></a>* Opción 3 : la versión estricta</span>
<span id="cb181-13"><a href="mata.html#cb181-13" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span>: &lt;un comando <span class="kw">de</span> <span class="kw">mata</span>&gt; </span>
<span id="cb181-14"><a href="mata.html#cb181-14" aria-hidden="true" tabindex="-1"></a>  </span></code></pre></div>
<p>Si son utilizados dos puntos y <strong>ocurre</strong> un error, Mata será abortado, volverá a Stata y aparecerá un mensaje de error.</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb182-1"><a href="mata.html#cb182-1" aria-hidden="true" tabindex="-1"></a>* Ejemplo 1</span>
<span id="cb182-2"><a href="mata.html#cb182-2" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> </span>
<span id="cb182-3"><a href="mata.html#cb182-3" aria-hidden="true" tabindex="-1"></a>emat = 7 + 3</span>
<span id="cb182-4"><a href="mata.html#cb182-4" aria-hidden="true" tabindex="-1"></a>emat </span>
<span id="cb182-5"><a href="mata.html#cb182-5" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb182-6"><a href="mata.html#cb182-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-7"><a href="mata.html#cb182-7" aria-hidden="true" tabindex="-1"></a>* Ejemplo 2</span>
<span id="cb182-8"><a href="mata.html#cb182-8" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> </span>
<span id="cb182-9"><a href="mata.html#cb182-9" aria-hidden="true" tabindex="-1"></a>emat = (<span class="st">"Josefa"</span>, <span class="st">"Perez"</span>)</span>
<span id="cb182-10"><a href="mata.html#cb182-10" aria-hidden="true" tabindex="-1"></a>emat = (21\8)</span>
<span id="cb182-11"><a href="mata.html#cb182-11" aria-hidden="true" tabindex="-1"></a>mmat = (17\6)</span>
<span id="cb182-12"><a href="mata.html#cb182-12" aria-hidden="true" tabindex="-1"></a>vmat = (25,3\3,11)</span>
<span id="cb182-13"><a href="mata.html#cb182-13" aria-hidden="true" tabindex="-1"></a>emat, mmat, vmat </span>
<span id="cb182-14"><a href="mata.html#cb182-14" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>
<p>Para buscar ayuda, podemos hacer:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb183-1"><a href="mata.html#cb183-1" aria-hidden="true" tabindex="-1"></a>* Ejemplo 1</span>
<span id="cb183-2"><a href="mata.html#cb183-2" aria-hidden="true" tabindex="-1"></a><span class="kw">help</span> <span class="kw">mata</span> comando</span>
<span id="cb183-3"><a href="mata.html#cb183-3" aria-hidden="true" tabindex="-1"></a><span class="kw">help</span> <span class="kw">mata</span> <span class="fu">cholesky</span>()</span></code></pre></div>
<p>Comandos básicos:Al igual que Stata, Mata posee sus propios comandos. Algunos útiles de recordar son:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb184-1"><a href="mata.html#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> <span class="kw">describe</span> </span>
<span id="cb184-2"><a href="mata.html#cb184-2" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> <span class="kw">clear</span> </span>
<span id="cb184-3"><a href="mata.html#cb184-3" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> <span class="kw">rename</span> nombre</span>
<span id="cb184-4"><a href="mata.html#cb184-4" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> <span class="kw">drop</span> nombre1 nombre2</span>
<span id="cb184-5"><a href="mata.html#cb184-5" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> stata</span>
<span id="cb184-6"><a href="mata.html#cb184-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-7"><a href="mata.html#cb184-7" aria-hidden="true" tabindex="-1"></a>* Ejemplo</span>
<span id="cb184-8"><a href="mata.html#cb184-8" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> </span>
<span id="cb184-9"><a href="mata.html#cb184-9" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> <span class="kw">clear</span> </span>
<span id="cb184-10"><a href="mata.html#cb184-10" aria-hidden="true" tabindex="-1"></a>emat = (<span class="st">"Josefa"</span>, <span class="st">"Perez"</span>)</span>
<span id="cb184-11"><a href="mata.html#cb184-11" aria-hidden="true" tabindex="-1"></a>emat = (21\8)</span>
<span id="cb184-12"><a href="mata.html#cb184-12" aria-hidden="true" tabindex="-1"></a>mmat = (17\6)</span>
<span id="cb184-13"><a href="mata.html#cb184-13" aria-hidden="true" tabindex="-1"></a>vmat = (25,3\3,11)</span>
<span id="cb184-14"><a href="mata.html#cb184-14" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> <span class="kw">describe</span> </span>
<span id="cb184-15"><a href="mata.html#cb184-15" aria-hidden="true" tabindex="-1"></a>emat, mmat, vmat</span>
<span id="cb184-16"><a href="mata.html#cb184-16" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> <span class="kw">rename</span> vmat vmat_renombrada</span>
<span id="cb184-17"><a href="mata.html#cb184-17" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> <span class="kw">drop</span> mmat</span>
<span id="cb184-18"><a href="mata.html#cb184-18" aria-hidden="true" tabindex="-1"></a>emat, vmat_renombrada</span>
<span id="cb184-19"><a href="mata.html#cb184-19" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>
<p><strong>Para hacer comentarios</strong> en Mata hay que utilizar <code>//</code>. No funcionan los asteriscos como en Stata. Todo los que se genera en Mata queda en la memoria a menos que Stata se cierre, se use <code>clear all</code>en Stata o bien <code>mata: mata clear</code>. Todas las matrices y funciones definidas se mantienen en el espacio de trabajo de Mata espacio de trabajo cuando se termina mata y se puede acceder a ellas cuando se vuelve a entrar en
mata.</p>
<div id="matrices" class="section level4" number="7.1.0.1">
<h4>
<span class="header-section-number">7.1.0.1</span> Matrices<a class="anchor" aria-label="anchor" href="#matrices"><i class="fas fa-link"></i></a>
</h4>
<p>Una forma común de generar una matriz en Mata es importándola desde los datos de Stata.</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb185-1"><a href="mata.html#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span>: X = st_data(.,(<span class="st">"var1"</span>, <span class="st">"var2"</span>))</span></code></pre></div>
<p>Definimos la matriz X, que tiene todas las observaciones (filas) y dos columnas <code>var1</code> y <code>var2</code>. <code>st_</code> permite a Mata interactuar con la interfaz de Stata con el fin de pasar información de un lado a otro. Revisar <code>help m4_stata</code>.</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb186-1"><a href="mata.html#cb186-1" aria-hidden="true" tabindex="-1"></a>* Ejemplo 4: confeccionar matrices en base a <span class="kw">mata</span></span>
<span id="cb186-2"><a href="mata.html#cb186-2" aria-hidden="true" tabindex="-1"></a><span class="kw">sysuse</span> auto.dta</span>
<span id="cb186-3"><a href="mata.html#cb186-3" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span></span>
<span id="cb186-4"><a href="mata.html#cb186-4" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> <span class="kw">clear</span> </span>
<span id="cb186-5"><a href="mata.html#cb186-5" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span>: X = st_data(.,(<span class="st">"price"</span>, <span class="st">"mpg"</span>))</span>
<span id="cb186-6"><a href="mata.html#cb186-6" aria-hidden="true" tabindex="-1"></a>X</span>
<span id="cb186-7"><a href="mata.html#cb186-7" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> <span class="kw">describe</span></span>
<span id="cb186-8"><a href="mata.html#cb186-8" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span> </span></code></pre></div>
<p>Otra opción es definir matrices dentro de Mata.</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb187-1"><a href="mata.html#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> A = (1,2 \ 3,4)</span></code></pre></div>
<p>Definimos la matriz A, la cual podemos ver escribiendo <code>mata A</code>. Veremos una matriz cuadrada de 2x2. Notar que la coma separa elementos <strong>entre columnas</strong> mientras que el <em>slash</em> mueve elementos <strong>entre filas</strong>. El uso de paréntesis es opcional en Mata, pero es más conveniente y es una buena práctica de estilo utilizarlos. También se pueden definir matrices especiales.</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb188-1"><a href="mata.html#cb188-1" aria-hidden="true" tabindex="-1"></a>* Vector fila o Vector columna</span>
<span id="cb188-2"><a href="mata.html#cb188-2" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> 1,2,3</span>
<span id="cb188-3"><a href="mata.html#cb188-3" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> 1\2\3</span>
<span id="cb188-4"><a href="mata.html#cb188-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-5"><a href="mata.html#cb188-5" aria-hidden="true" tabindex="-1"></a>* Vector fila o Vector columna del 1 al 4</span>
<span id="cb188-6"><a href="mata.html#cb188-6" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> 1..4</span>
<span id="cb188-7"><a href="mata.html#cb188-7" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> 1::4</span></code></pre></div>
<p>Finalmente, uno puede generar matrices similar a lo que se hace en Stata.</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb189-1"><a href="mata.html#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> <span class="fu">J</span>(2,2,1)</span></code></pre></div>
<p>Este comando genera una matriz de 2x2 rellena de unos. La sintaxis genérica es: <code>mata J(filas, columnas, constante)</code>. Para definir una matriz identidad: <code>mata I(5)</code>.</p>
<p>Otro operador útil es <code>range</code>:</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb190-1"><a href="mata.html#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> <span class="kw">range</span>(1,7,2)</span></code></pre></div>
<p>Crea un vector que empieza en 1 y termina en 7 saltándose de 2 en 2 (es decir, <code>(1,3,5,7)</code>). Si quiero generar una matriz con números aleatorios provenientes de una distribución uniforme (0,1) : <code>mata runiform(3,3)</code>.</p>
<p>Accediendo a los elementos de una matriz</p>
<ul>
<li>Podemos acceder a los elementos de una matriz.
<ul>
<li>
<code>mata A[1,2]</code>: fila 1, columna 2.</li>
<li>
<code>mata A[1,.]</code>: <strong>Todas las columnas</strong> de la fila 1.</li>
<li>
<code>mata A[.,2]</code>: <strong>Todas las filas</strong> de la columna 2.</li>
</ul>
</li>
<li>También podemos extraer sub-conjuntos de elementos:</li>
</ul>
<div class="sourceCode" id="cb191"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb191-1"><a href="mata.html#cb191-1" aria-hidden="true" tabindex="-1"></a>* Empezar <span class="kw">de</span> fila 2 columna 1 hasta fila 3 columna 3</span>
<span id="cb191-2"><a href="mata.html#cb191-2" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> A[|2,1\3,3|]       </span>
<span id="cb191-3"><a href="mata.html#cb191-3" aria-hidden="true" tabindex="-1"></a>* Tomar filas 2 <span class="fu">y</span> 3 <span class="fu">y</span> columnas <span class="kw">de</span> la 1 a la 3.</span>
<span id="cb191-4"><a href="mata.html#cb191-4" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> A[(2::3),(1..3)]   </span></code></pre></div>
<p>Pegando elementos de matrices:</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb192-1"><a href="mata.html#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span></span>
<span id="cb192-2"><a href="mata.html#cb192-2" aria-hidden="true" tabindex="-1"></a>A = runiform(1,2)</span>
<span id="cb192-3"><a href="mata.html#cb192-3" aria-hidden="true" tabindex="-1"></a>B = runiform(1,2)</span>
<span id="cb192-4"><a href="mata.html#cb192-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-5"><a href="mata.html#cb192-5" aria-hidden="true" tabindex="-1"></a>* Opción 1 : pegar horizontalmente</span>
<span id="cb192-6"><a href="mata.html#cb192-6" aria-hidden="true" tabindex="-1"></a>A,B   </span>
<span id="cb192-7"><a href="mata.html#cb192-7" aria-hidden="true" tabindex="-1"></a>* Opción 2 : pegar verticalmente</span>
<span id="cb192-8"><a href="mata.html#cb192-8" aria-hidden="true" tabindex="-1"></a>A\B   </span>
<span id="cb192-9"><a href="mata.html#cb192-9" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>
<p><code>A,B</code> las pega horizontalmente, es decir por columnas (filas son las mismas). <code>A\B</code> las pega vertical, es decir por filas (columnas son las mismas).</p>
<p>Operaciones básicas entre matrices y por elementos: Una vez definidas las matrices, también se dedica bastante tiempo a sumar, restar, multiplicar y dividir matrices entre sí. Vamos a ver algunas operaciones entre matrices y también entre elementos.</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb193-1"><a href="mata.html#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span></span>
<span id="cb193-2"><a href="mata.html#cb193-2" aria-hidden="true" tabindex="-1"></a> A = (1,2,3\4,5,6)</span>
<span id="cb193-3"><a href="mata.html#cb193-3" aria-hidden="true" tabindex="-1"></a> B = (2,3\4,5\6,7)</span>
<span id="cb193-4"><a href="mata.html#cb193-4" aria-hidden="true" tabindex="-1"></a> A * B</span>
<span id="cb193-5"><a href="mata.html#cb193-5" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>
<p><code>A * B</code> es una operación entre matrices, de forma tal que el número de filas de A debe ser igual al número de columnas de B. Si queremos que cada elemento de A sea multiplicado por el mismo elemento en B, es necesario trasponer alguna matriz y cambiar el operador.</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb194-1"><a href="mata.html#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span></span>
<span id="cb194-2"><a href="mata.html#cb194-2" aria-hidden="true" tabindex="-1"></a> A = (1,2,3\4,5,6)</span>
<span id="cb194-3"><a href="mata.html#cb194-3" aria-hidden="true" tabindex="-1"></a> B = (2,3\4,5\6,7)</span>
<span id="cb194-4"><a href="mata.html#cb194-4" aria-hidden="true" tabindex="-1"></a>  A' :* B</span>
<span id="cb194-5"><a href="mata.html#cb194-5" aria-hidden="true" tabindex="-1"></a>  A  :* B'</span>
<span id="cb194-6"><a href="mata.html#cb194-6" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>
<p>En el primer caso la matriz resultante corresponde a una matriz de 3x2, en el segundo caso es una matriz de 2x3.</p>
<p>Operadores lógicos y funciones sobre escalares: Las matrices también pueden ser comparadas a través de operadores lógicos. <code>A == B</code> chequea si dos matrices son iguales. Esto también puede hacerse elemento por elemento (por ejemplo <code>A:&gt;=B</code>). Tambien se puede utilizar <code>!=</code>.</p>
<p>Mata también tiene funciones sobre escalares:</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb195-1"><a href="mata.html#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span></span>
<span id="cb195-2"><a href="mata.html#cb195-2" aria-hidden="true" tabindex="-1"></a>  X = (-2, 1 \ 0, 5)</span>
<span id="cb195-3"><a href="mata.html#cb195-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">abs</span>(X)   <span class="co">// valor absoluto de cada elemento</span></span>
<span id="cb195-4"><a href="mata.html#cb195-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sign</span>(X)  <span class="co">// signo de cada elemento</span></span>
<span id="cb195-5"><a href="mata.html#cb195-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">exp</span>(X)   <span class="co">// exponencial de cada elemento</span></span>
<span id="cb195-6"><a href="mata.html#cb195-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sqrt</span>(X)  <span class="co">// raíz cuadrada de cada elemento</span></span>
<span id="cb195-7"><a href="mata.html#cb195-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sin</span>(X)   <span class="co">// seno de cada elemento</span></span>
<span id="cb195-8"><a href="mata.html#cb195-8" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>
<p>Algunas funciones para operar en matrices son:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb196-1"><a href="mata.html#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span></span>
<span id="cb196-2"><a href="mata.html#cb196-2" aria-hidden="true" tabindex="-1"></a>A = (5,4\6,7)</span>
<span id="cb196-3"><a href="mata.html#cb196-3" aria-hidden="true" tabindex="-1"></a>B = (1,6\3,2)</span>
<span id="cb196-4"><a href="mata.html#cb196-4" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb196-5"><a href="mata.html#cb196-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-6"><a href="mata.html#cb196-6" aria-hidden="true" tabindex="-1"></a>* Número <span class="kw">de</span> filas <span class="fu">y</span> columnas </span>
<span id="cb196-7"><a href="mata.html#cb196-7" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> <span class="bn">rows</span>(A)</span>
<span id="cb196-8"><a href="mata.html#cb196-8" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> <span class="bn">cols</span>(A)</span>
<span id="cb196-9"><a href="mata.html#cb196-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-10"><a href="mata.html#cb196-10" aria-hidden="true" tabindex="-1"></a>* Suma <span class="kw">de</span> las filas/columnas</span>
<span id="cb196-11"><a href="mata.html#cb196-11" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> rowsum(B)</span>
<span id="cb196-12"><a href="mata.html#cb196-12" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> colsum(B)</span>
<span id="cb196-13"><a href="mata.html#cb196-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-14"><a href="mata.html#cb196-14" aria-hidden="true" tabindex="-1"></a>* Calcular <span class="fu">el</span> promedio (retorna un <span class="kw">vector</span> fila)</span>
<span id="cb196-15"><a href="mata.html#cb196-15" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> <span class="kw">mean</span>(B')' </span>
<span id="cb196-16"><a href="mata.html#cb196-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-17"><a href="mata.html#cb196-17" aria-hidden="true" tabindex="-1"></a>* Seleccionar todas las columnas <span class="fu">sin</span> ceros</span>
<span id="cb196-18"><a href="mata.html#cb196-18" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> D = (1,0,2,3,0)</span>
<span id="cb196-19"><a href="mata.html#cb196-19" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> selectindex(D) </span>
<span id="cb196-20"><a href="mata.html#cb196-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-21"><a href="mata.html#cb196-21" aria-hidden="true" tabindex="-1"></a>* Select para condiciones más flexibles</span>
<span id="cb196-22"><a href="mata.html#cb196-22" aria-hidden="true" tabindex="-1"></a>select(B, B[.,1]:&gt;2)</span>
<span id="cb196-23"><a href="mata.html#cb196-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-24"><a href="mata.html#cb196-24" aria-hidden="true" tabindex="-1"></a>* Ordenar matrices </span>
<span id="cb196-25"><a href="mata.html#cb196-25" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> <span class="kw">sort</span>(B,2)  <span class="co">// Ordena según la columna 2 de B</span></span>
<span id="cb196-26"><a href="mata.html#cb196-26" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> <span class="kw">jumble</span>(B) <span class="co">// Aleatoriza las filas de B</span></span></code></pre></div>
<p>Mata contiene varias funciones para extraer propiedades de las matrices:</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb197-1"><a href="mata.html#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span></span>
<span id="cb197-2"><a href="mata.html#cb197-2" aria-hidden="true" tabindex="-1"></a>A = (5,4\6,7)</span>
<span id="cb197-3"><a href="mata.html#cb197-3" aria-hidden="true" tabindex="-1"></a><span class="fu">det</span>(A)         <span class="co">// Determinante de A</span></span>
<span id="cb197-4"><a href="mata.html#cb197-4" aria-hidden="true" tabindex="-1"></a><span class="fu">invsym</span>(A)      <span class="co">// Ibversa de A</span></span>
<span id="cb197-5"><a href="mata.html#cb197-5" aria-hidden="true" tabindex="-1"></a><span class="fu">trace</span>(A)       <span class="co">// Traza de A</span></span>
<span id="cb197-6"><a href="mata.html#cb197-6" aria-hidden="true" tabindex="-1"></a><span class="fu">rank</span>(A)        <span class="co">// Rango de A</span></span>
<span id="cb197-7"><a href="mata.html#cb197-7" aria-hidden="true" tabindex="-1"></a><span class="fu">norm</span>(A)        <span class="co">// Norma de A</span></span>
<span id="cb197-8"><a href="mata.html#cb197-8" aria-hidden="true" tabindex="-1"></a>X=.            <span class="co">// Vectores propios</span></span>
<span id="cb197-9"><a href="mata.html#cb197-9" aria-hidden="true" tabindex="-1"></a>L=.            <span class="co">// Valores propios</span></span>
<span id="cb197-10"><a href="mata.html#cb197-10" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>
<p>Mata contiene varias funciones para operar o manipular dos matrices:</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb198-1"><a href="mata.html#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span></span>
<span id="cb198-2"><a href="mata.html#cb198-2" aria-hidden="true" tabindex="-1"></a>A = (5,4\6,7)</span>
<span id="cb198-3"><a href="mata.html#cb198-3" aria-hidden="true" tabindex="-1"></a>B = (1,6\3,2)</span>
<span id="cb198-4"><a href="mata.html#cb198-4" aria-hidden="true" tabindex="-1"></a>A' * B            <span class="co">// A x B</span></span>
<span id="cb198-5"><a href="mata.html#cb198-5" aria-hidden="true" tabindex="-1"></a><span class="kw">cross</span>(A,B)        <span class="co">// A x B using a solver (faster)</span></span>
<span id="cb198-6"><a href="mata.html#cb198-6" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>
<p>Al igual que Stata, Mata puede utilizar iteradores. While loop:</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb199-1"><a href="mata.html#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span></span>
<span id="cb199-2"><a href="mata.html#cb199-2" aria-hidden="true" tabindex="-1"></a>  x = 1                  <span class="co">// Valor inicial</span></span>
<span id="cb199-3"><a href="mata.html#cb199-3" aria-hidden="true" tabindex="-1"></a>  X = 4                  <span class="co">// Valor final</span></span>
<span id="cb199-4"><a href="mata.html#cb199-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">while</span> (x &lt;= X) {       <span class="co">// Iniciar condición del while</span></span>
<span id="cb199-5"><a href="mata.html#cb199-5" aria-hidden="true" tabindex="-1"></a>  printf(<span class="st">"\%g </span><span class="ch">\n</span><span class="st">"</span>, x)     <span class="co">// Alguna operación de Mata aquí</span></span>
<span id="cb199-6"><a href="mata.html#cb199-6" aria-hidden="true" tabindex="-1"></a>  x++                    <span class="co">// Incremental</span></span>
<span id="cb199-7"><a href="mata.html#cb199-7" aria-hidden="true" tabindex="-1"></a>  }                      <span class="co">// Terminar el while</span></span>
<span id="cb199-8"><a href="mata.html#cb199-8" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>
<p>For Loops:</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb200-1"><a href="mata.html#cb200-1" aria-hidden="true" tabindex="-1"></a>* Este <span class="kw">for</span></span>
<span id="cb200-2"><a href="mata.html#cb200-2" aria-hidden="true" tabindex="-1"></a><span class="kw">for</span> (expr1; expr2; expr3) {</span>
<span id="cb200-3"><a href="mata.html#cb200-3" aria-hidden="true" tabindex="-1"></a>stmts</span>
<span id="cb200-4"><a href="mata.html#cb200-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb200-5"><a href="mata.html#cb200-5" aria-hidden="true" tabindex="-1"></a>* Es equivalente a </span>
<span id="cb200-6"><a href="mata.html#cb200-6" aria-hidden="true" tabindex="-1"></a>expr1</span>
<span id="cb200-7"><a href="mata.html#cb200-7" aria-hidden="true" tabindex="-1"></a><span class="kw">while</span> (expr2) {</span>
<span id="cb200-8"><a href="mata.html#cb200-8" aria-hidden="true" tabindex="-1"></a>stmt</span>
<span id="cb200-9"><a href="mata.html#cb200-9" aria-hidden="true" tabindex="-1"></a>expr3</span>
<span id="cb200-10"><a href="mata.html#cb200-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Los valores iniciales y finales pueden extraerse de algunas declaraciones condicionales como las dimensiones de las matrices. Mata sólo permite incrementos de 1.</p>
<p>Notar que aquí es bien distinto a Stata:</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb201-1"><a href="mata.html#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span></span>
<span id="cb201-2"><a href="mata.html#cb201-2" aria-hidden="true" tabindex="-1"></a>   <span class="kw">N</span> = 4                      <span class="co">// Valor final</span></span>
<span id="cb201-3"><a href="mata.html#cb201-3" aria-hidden="true" tabindex="-1"></a>   <span class="kw">for</span> (i=1; i&lt;=<span class="kw">N</span>; i++) {     <span class="co">// for loop </span></span>
<span id="cb201-4"><a href="mata.html#cb201-4" aria-hidden="true" tabindex="-1"></a>   printf(<span class="st">"%g </span><span class="ch">\n</span><span class="st">"</span>, i)         <span class="co">// some Mata operation here</span></span>
<span id="cb201-5"><a href="mata.html#cb201-5" aria-hidden="true" tabindex="-1"></a>   }                          <span class="co">// end for loop</span></span>
<span id="cb201-6"><a href="mata.html#cb201-6" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>
<p>If/else son:</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb202-1"><a href="mata.html#cb202-1" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span></span>
<span id="cb202-2"><a href="mata.html#cb202-2" aria-hidden="true" tabindex="-1"></a> x = 3                       <span class="co">// Valor de x</span></span>
<span id="cb202-3"><a href="mata.html#cb202-3" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb202-4"><a href="mata.html#cb202-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">for</span> (i=1; i&lt;=5; i++) {     <span class="co">// Empezar el loop</span></span>
<span id="cb202-5"><a href="mata.html#cb202-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">if</span> (x &gt; i) {             <span class="co">// if</span></span>
<span id="cb202-6"><a href="mata.html#cb202-6" aria-hidden="true" tabindex="-1"></a>      printf(<span class="st">"\%g</span><span class="ch">\n</span><span class="st">"</span>, 0)      <span class="co">// Comando de mata si la condición se cumple</span></span>
<span id="cb202-7"><a href="mata.html#cb202-7" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb202-8"><a href="mata.html#cb202-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">else</span> {                   <span class="co">//  en caso contrario</span></span>
<span id="cb202-9"><a href="mata.html#cb202-9" aria-hidden="true" tabindex="-1"></a>      printf(<span class="st">"\%g</span><span class="ch">\n</span><span class="st">"</span>, 1)      <span class="co">// ejecutar este comando de mata</span></span>
<span id="cb202-10"><a href="mata.html#cb202-10" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb202-11"><a href="mata.html#cb202-11" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb202-12"><a href="mata.html#cb202-12" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>
<p>Mata también permite abreviar la sintaxis en caso de que existan dos o mas condiciones.</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb203-1"><a href="mata.html#cb203-1" aria-hidden="true" tabindex="-1"></a>(a ? b : c)</span></code></pre></div>
<p>“a” es la condición, “b” es el valor en caso de que sea verdadero y “c” en caso de que sea falsa. Para el ejemplo, la condición sería: <code>(x &gt; i ? 1 : 0)</code>.</p>
</div>
<div id="de-stata-a-mata" class="section level4" number="7.1.0.2">
<h4>
<span class="header-section-number">7.1.0.2</span> De Stata a Mata<a class="anchor" aria-label="anchor" href="#de-stata-a-mata"><i class="fas fa-link"></i></a>
</h4>
<p>Estimar un MCO: Un ejemplo estándar es hacer un simple OLS en Mata.</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb204-1"><a href="mata.html#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="kw">sysuse</span> auto, <span class="kw">clear</span></span>
<span id="cb204-2"><a href="mata.html#cb204-2" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span></span>
<span id="cb204-3"><a href="mata.html#cb204-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">y</span> = st_data(.,<span class="st">"price"</span>)</span>
<span id="cb204-4"><a href="mata.html#cb204-4" aria-hidden="true" tabindex="-1"></a> X = st_data(.,(<span class="st">"mpg"</span>, <span class="st">"weight"</span>))</span>
<span id="cb204-5"><a href="mata.html#cb204-5" aria-hidden="true" tabindex="-1"></a> X = X, <span class="fu">J</span>(<span class="bn">rows</span>(X),1,1)</span>
<span id="cb204-6"><a href="mata.html#cb204-6" aria-hidden="true" tabindex="-1"></a>    beta   = <span class="fu">invsym</span>(<span class="kw">cross</span>(X,X))*<span class="kw">cross</span>(X,<span class="fu">y</span>)</span>
<span id="cb204-7"><a href="mata.html#cb204-7" aria-hidden="true" tabindex="-1"></a>    esq    = (<span class="fu">y</span> - X*beta) :^ 2</span>
<span id="cb204-8"><a href="mata.html#cb204-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">V</span>      = (<span class="kw">sum</span>(esq)/(<span class="bn">rows</span>(X)-<span class="bn">cols</span>(X)))*<span class="fu">invsym</span>(<span class="kw">cross</span>(X,X))</span>
<span id="cb204-9"><a href="mata.html#cb204-9" aria-hidden="true" tabindex="-1"></a>    stderr = <span class="fu">sqrt</span>(diagonal(<span class="kw">V</span>))</span>
<span id="cb204-10"><a href="mata.html#cb204-10" aria-hidden="true" tabindex="-1"></a>      st_matrix(<span class="st">"b"</span>, beta)</span>
<span id="cb204-11"><a href="mata.html#cb204-11" aria-hidden="true" tabindex="-1"></a>      st_matrix(<span class="st">"se"</span>, stderr)</span>
<span id="cb204-12"><a href="mata.html#cb204-12" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>
<p>For Loops</p>
<ul>
<li>En Mata, la variable dependiente se importa como el vector y las variables independientes se importan como la matriz X. A esta matriz X se le añade un vector columna de unos para el intercepto.</li>
<li>Como el vector de unos debe tener el mismo número de filas que la matriz X, nótese el uso del operador J().</li>
<li>En el último paso, las betas y los errores estándar se exportan a Stata como matrices de Stata.</li>
</ul>
</div>
<div id="funciones-en-mata" class="section level4" number="7.1.0.3">
<h4>
<span class="header-section-number">7.1.0.3</span> Funciones en Mata<a class="anchor" aria-label="anchor" href="#funciones-en-mata"><i class="fas fa-link"></i></a>
</h4>
<p>Vector: Un ejemplo estándar es hacer un simple OLS en Mata.</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb205-1"><a href="mata.html#cb205-1" aria-hidden="true" tabindex="-1"></a>* Generar un <span class="kw">vector</span> </span>
<span id="cb205-2"><a href="mata.html#cb205-2" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> </span>
<span id="cb205-3"><a href="mata.html#cb205-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> zeros(c)</span>
<span id="cb205-4"><a href="mata.html#cb205-4" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb205-5"><a href="mata.html#cb205-5" aria-hidden="true" tabindex="-1"></a>    a = <span class="fu">J</span>(c, 1, 0)</span>
<span id="cb205-6"><a href="mata.html#cb205-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(a)</span>
<span id="cb205-7"><a href="mata.html#cb205-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb205-8"><a href="mata.html#cb205-8" aria-hidden="true" tabindex="-1"></a>b = zeros(3)</span>
<span id="cb205-9"><a href="mata.html#cb205-9" aria-hidden="true" tabindex="-1"></a>b</span>
<span id="cb205-10"><a href="mata.html#cb205-10" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span> </span></code></pre></div>
<p>Matriz:</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb206-1"><a href="mata.html#cb206-1" aria-hidden="true" tabindex="-1"></a>* Generar una matriz</span>
<span id="cb206-2"><a href="mata.html#cb206-2" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> </span>
<span id="cb206-3"><a href="mata.html#cb206-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> zerosv1(<span class="fu">real</span> <span class="fu">scalar</span> c, <span class="fu">real</span> <span class="fu">scalar</span> <span class="fu">r</span>)</span>
<span id="cb206-4"><a href="mata.html#cb206-4" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb206-5"><a href="mata.html#cb206-5" aria-hidden="true" tabindex="-1"></a><span class="fu">real</span> <span class="fu">matrix</span> A </span>
<span id="cb206-6"><a href="mata.html#cb206-6" aria-hidden="true" tabindex="-1"></a>A = <span class="fu">J</span>(c,<span class="fu">r</span>,0)</span>
<span id="cb206-7"><a href="mata.html#cb206-7" aria-hidden="true" tabindex="-1"></a><span class="fu">return</span>(A)</span>
<span id="cb206-8"><a href="mata.html#cb206-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb206-9"><a href="mata.html#cb206-9" aria-hidden="true" tabindex="-1"></a>b = zerosv1(3,2)</span>
<span id="cb206-10"><a href="mata.html#cb206-10" aria-hidden="true" tabindex="-1"></a>b</span>
<span id="cb206-11"><a href="mata.html#cb206-11" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span> </span></code></pre></div>
<p>Hacer opcionales:</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb207-1"><a href="mata.html#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> </span>
<span id="cb207-2"><a href="mata.html#cb207-2" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> zerosv2(<span class="fu">real</span> <span class="fu">scalar</span> c,| <span class="fu">real</span> <span class="fu">scalar</span> <span class="fu">r</span>)</span>
<span id="cb207-3"><a href="mata.html#cb207-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb207-4"><a href="mata.html#cb207-4" aria-hidden="true" tabindex="-1"></a><span class="fu">real</span> <span class="fu">matrix</span> A</span>
<span id="cb207-5"><a href="mata.html#cb207-5" aria-hidden="true" tabindex="-1"></a><span class="kw">if</span> (<span class="kw">args</span>()==1) <span class="fu">r</span> = 1</span>
<span id="cb207-6"><a href="mata.html#cb207-6" aria-hidden="true" tabindex="-1"></a>A = <span class="fu">J</span>(c, <span class="fu">r</span>, 0)</span>
<span id="cb207-7"><a href="mata.html#cb207-7" aria-hidden="true" tabindex="-1"></a><span class="fu">return</span>(A)</span>
<span id="cb207-8"><a href="mata.html#cb207-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb207-9"><a href="mata.html#cb207-9" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span> </span>
<span id="cb207-10"><a href="mata.html#cb207-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb207-11"><a href="mata.html#cb207-11" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> </span>
<span id="cb207-12"><a href="mata.html#cb207-12" aria-hidden="true" tabindex="-1"></a>zerosv2(3,2)</span>
<span id="cb207-13"><a href="mata.html#cb207-13" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb207-14"><a href="mata.html#cb207-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb207-15"><a href="mata.html#cb207-15" aria-hidden="true" tabindex="-1"></a><span class="kw">help</span> m2 <span class="kw">syntax</span></span></code></pre></div>
<p>Guardar:</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb208-1"><a href="mata.html#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> </span>
<span id="cb208-2"><a href="mata.html#cb208-2" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> zerosfinal(<span class="fu">real</span> <span class="fu">scalar</span> c,| <span class="fu">real</span> <span class="fu">scalar</span> <span class="fu">r</span>)</span>
<span id="cb208-3"><a href="mata.html#cb208-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb208-4"><a href="mata.html#cb208-4" aria-hidden="true" tabindex="-1"></a><span class="fu">real</span> <span class="fu">matrix</span> A</span>
<span id="cb208-5"><a href="mata.html#cb208-5" aria-hidden="true" tabindex="-1"></a><span class="kw">if</span> (<span class="kw">args</span>()==1) <span class="fu">r</span> = 1</span>
<span id="cb208-6"><a href="mata.html#cb208-6" aria-hidden="true" tabindex="-1"></a>A = <span class="fu">J</span>(c, <span class="fu">r</span>, 0)</span>
<span id="cb208-7"><a href="mata.html#cb208-7" aria-hidden="true" tabindex="-1"></a><span class="fu">return</span>(A)</span>
<span id="cb208-8"><a href="mata.html#cb208-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb208-9"><a href="mata.html#cb208-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-10"><a href="mata.html#cb208-10" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> stata cd <span class="st">"\$ejercicios"</span></span>
<span id="cb208-11"><a href="mata.html#cb208-11" aria-hidden="true" tabindex="-1"></a><span class="kw">mata</span> mosave zerosfinal(), <span class="kw">replace</span></span>
<span id="cb208-12"><a href="mata.html#cb208-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-13"><a href="mata.html#cb208-13" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span> </span></code></pre></div>
<p>Dos referencias recomendadas para profundizar en Mata:</p>
<ul>
<li>An Introduction to Stata Programming, Second Edition ()</li>
<li>The Mata Book: A Book for Serious Programmers and Those Who Want to Be ()</li>
</ul>
</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="manejo-de-grandes-bases-de-datos-en-stata.html"><span class="header-section-number">6</span> Manejo de grandes bases de datos en Stata</a></div>
<div class="next"><a href="an%C3%A1lisis-de-datos-con-python.html"><span class="header-section-number">8</span> Análisis de Datos con Python</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#mata"><span class="header-section-number">7</span> Mata</a></li>
<li><a class="nav-link" href="#qu%C3%A9-es-mata"><span class="header-section-number">7.1</span> ¿Qué es Mata?</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Análisis de Datos con Stata, R y Python</strong>" was written by Nicolás Campos Bijit. It was last built on Octubre 2023.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
